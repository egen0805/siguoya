$(function(){global={$window:$(window),$document:$(document),$loading:$(".common_loading"),$modalTitle:$("#modalTitle"),$modalContent:$("#modalContent"),$modalCancelButton:$("#modalCancelButton"),$modalOkButton:$("#modalOkButton"),$dialogButton:$("#dialogButton"),$dialogClose:$("#modalClose"),yfx:function(o){console.log(o)},dialogOpen:function(o,n){var l=$.extend({title:"标题",content:"内容",showOk:!1,showCancel:!1,okFunc:null,cancelFunc:null,redirectUrl:""},o);global.$modalTitle.html(l.title),global.$modalContent.html(l.content),l.showCancel?global.$modalCancelButton.show():!0,l.showOk?global.$modalOkButton.show():!0,l.okFunc&&(global.$modalOkButton.unbind("click"),global.$modalOkButton.click(function(){l.okFunc.call(n)})),global.$dialogButton.trigger("click"),l.redirectUrl&&setTimeout(function(){window.location.href=l.redirectUrl},2500)},dialogClose:function(o){var o=o?o:0;setTimeout(function(){global.$dialogClose.trigger("click")},o)},dialogDestroy:function(){global.dialogClose(),global.$modalCancelButton.unbind("click").hide(),global.$modalOkButton.unbind("click"),global.$modalOkButton.click(function(){global.dialogClose()})},isLogin:function(){return $.cookie("user_info")?!0:!1},userInfo:function(){if(!global.isLogin())return null;var o={},n=JSON.parse($.cookie("user_info"));if(o.userId=n.user_id,o.userName=n.user_name,n.user_face){JSON.parse(n.user_face)}return o},codeCheckBootstrap:function(){var o=document.createElement("script");o.onload=function(){bootlint.showLintReportForCurrentDocument([])},document.body.appendChild(o)},loadingShow:function(o){o.find(".common_loading").length||global.$loading.clone().appendTo(o),o.find(".common_loading").show()},loadingHidden:function(o){o.find(".common_loading").hide()},loadingComplete:function(o){o.find(".common_loading").html('<div class="well">没有更多的数据了, o(︶︿︶)o</div>').show()},errorReport:function(o){global.dialogDestroy(),setTimeout(function(){global.dialogOpen({title:"错误提示",content:o+",请联系客服QQ:924714558",showCancel:!0})},1e3)}},$("#mdContainer").length>0&&editormd.markdownToHTML("markdown",{markdown:$("#mdContainer").val(),markdownSourceCode:!0})});